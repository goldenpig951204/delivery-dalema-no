"use strict";(self["webpackChunkbooking_client"]=self["webpackChunkbooking_client"]||[]).push([[277],{277:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Companies")]),n("b-alert",{attrs:{variant:"success",show:""}},[e._v(" Create and modify companies ")]),n("b-row",[n("b-col",{attrs:{md:"2"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Company Name"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),n("b-col",{attrs:{md:"2"}},[n("b-button",{attrs:{variant:"primary"},on:{click:e.fetch}},[e._v(" Search ")])],1),n("b-col",{staticClass:"text-right",attrs:{md:"8"}},[n("b-button",{attrs:{variant:"success"},on:{click:e.add}},[n("b-icon",{attrs:{icon:"plus",scale:"1.5"}}),e._v(" Add ")],1)],1)],1),n("b-table",{staticClass:"mt-3",attrs:{fields:e.fields,items:e.list,busy:e.loading,outlined:"",responsive:""},scopedSlots:e._u([{key:"cell(index)",fn:function(t){return[n("p",[e._v(e._s((e.searchForm.page-1)*e.searchForm.perPage+t.index+1))])]}},{key:"cell(name)",fn:function(t){return[n("p",[e._v(e._s(t.value))])]}},{key:"cell(edit)",fn:function(t){return[n("b-button",{staticClass:"mr-2",attrs:{variant:"success",size:"sm"},on:{click:function(n){return e.edit(t.index)}}},[n("b-icon",{attrs:{icon:"pencil"}}),e._v(" Edit ")],1),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(n){return e.deleteById(t.index)}}},[n("b-icon",{attrs:{icon:"trash"}}),e._v(" Delete ")],1)]}}])}),n("b-pagination",{attrs:{"total-rows":e.total,"per-page":e.searchForm.perPage,align:"right"},model:{value:e.searchForm.page,callback:function(t){e.$set(e.searchForm,"page",t)},expression:"searchForm.page"}}),n("b-modal",{attrs:{title:"Add Company","hide-header-close":""},on:{ok:e.doAdd,cancel:function(t){e.addModalShow=!1}},model:{value:e.addModalShow,callback:function(t){e.addModalShow=t},expression:"addModalShow"}},[n("b-row",[n("b-col",{attrs:{md:"4"}},[e._v("Company Name")]),n("b-col",{attrs:{md:"8"}},[n("b-form-input",{attrs:{type:"text",state:!!e.$v.company.name.required&&null},model:{value:e.company.name,callback:function(t){e.$set(e.company,"name",t)},expression:"company.name"}}),e.$v.company.name.required?e._e():n("b-form-invalid-feedback",[e._v(" Name is required. ")])],1)],1)],1),n("b-modal",{attrs:{title:"Edit Company","hide-header-close":""},on:{ok:e.doEdit},model:{value:e.editModalShow,callback:function(t){e.editModalShow=t},expression:"editModalShow"}},[n("b-row",[n("b-col",{attrs:{md:"4"}},[e._v("Company Name")]),n("b-col",{attrs:{md:"8"}},[n("b-form-input",{attrs:{type:"text",state:!!e.$v.company.name.required&&null},model:{value:e.company.name,callback:function(t){e.$set(e.company,"name",t)},expression:"company.name"}}),e.$v.company.name.required?e._e():n("b-form-invalid-feedback",[e._v(" Name is required. ")])],1)],1)],1),n("b-modal",{attrs:{title:"Delete Company","hide-header-close":""},on:{ok:e.doDelete},model:{value:e.deleteModalShow,callback:function(t){e.deleteModalShow=t},expression:"deleteModalShow"}},[e._v(" Are you sure you want to delete? ")])],1)},a=[],o=n(4665),i=n(6409),u={name:"CompanyView",mounted(){this.fetch()},data(){return{fields:[{key:"index",label:"No"},{key:"name",label:"Company Name"},{key:"edit",label:"-"}],loading:!1,searchForm:{page:1,perPage:10,name:""},addModalShow:!1,editModalShow:!1,deleteModalShow:!1,company:{_id:"",name:""}}},computed:{...(0,o.rn)({list:e=>e.company.list,total:e=>e.company.total})},validations:{company:{name:{required:i.C1}}},methods:{fetch(){this.loading=!0,this.$store.dispatch("company/fetch",this.searchForm).then((()=>{this.loading=!1}))},add(){this.company={_id:"",name:""},this.addModalShow=!0},doAdd(e){e.preventDefault(),this.$v.company.$touch(),this.$v.company.$error||(this.addModalShow=!1,this.$store.dispatch("company/add",this.company).then((()=>{this.$toasted.success("Add Success"),this.fetch()})))},edit(e){Object.keys(this.list[e]).forEach((t=>{this.company[t]=this.list[e][t]})),this.editModalShow=!0},doEdit(e){e.preventDefault(),this.$v.company.$touch(),this.$v.company.$error||(this.editModalShow=!1,this.$store.dispatch("company/edit",this.company).then((()=>{this.$toasted.success("Edit Success"),this.fetch()})))},deleteById(e){this.company._id=this.list[e]._id,this.deleteModalShow=!0},doDelete(){this.$store.dispatch("company/deleteById",this.company._id).then((()=>{this.$toasted.success("Delete Success"),this.fetch()}))}},watch:{"searchForm.page":function(){this.fetch()}}},d=u,l=n(1001),c=(0,l.Z)(d,r,a,!1,null,null,null),f=c.exports},9550:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=(0,r.regex)("alpha",/^[a-zA-Z]*$/);t["default"]=a},7497:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=(0,r.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t["default"]=a},3627:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"and"},(function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.length>0&&t.reduce((function(t,n){return t&&n.apply(e,r)}),!0)}))};t["default"]=a},8540:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},(function(n){return!(0,r.req)(n)||(!/\s/.test(n)||n instanceof Date)&&+e<=+n&&+t>=+n}))};t["default"]=a},2620:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.regex=t.ref=t.len=void 0,Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return r.default}});var r=a(n(926));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===o(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=i;var u=function(e){return Array.isArray(e)?e.length:"object"===o(e)?Object.keys(e).length:String(e).length};t.len=u;var d=function(e,t,n){return"function"===typeof e?e.call(t,n):n[e]};t.ref=d;var l=function(e,t){return(0,r.default)({type:e},(function(e){return!i(e)||t.test(e)}))};t.regex=l},8357:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=(0,r.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t["default"]=a},6363:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,o=(0,r.regex)("email",a);t["default"]=o},6409:function(e,t,n){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"Do",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"uR",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"C1",{enumerable:!0,get:function(){return p.default}});var a=$(n(9550)),o=$(n(7497)),i=$(n(5374)),u=$(n(8540)),d=$(n(6363)),l=$(n(7962)),c=$(n(5969)),f=$(n(7881)),s=$(n(4967)),p=$(n(3009)),m=$(n(6618)),y=$(n(9936)),h=$(n(6909)),v=$(n(445)),b=$(n(4960)),_=$(n(3627)),g=$(n(4427)),x=$(n(2271)),w=$(n(5617)),P=$(n(1033)),M=$(n(8357)),S=O(n(2620));function j(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function $(e){return e&&e.__esModule?e:{default:e}}},1033:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=(0,r.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t["default"]=a},7962:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=(0,r.withParams)({type:"ipAddress"},(function(e){if(!(0,r.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(o)}));t["default"]=a;var o=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},5969:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},(function(t){if(!(0,r.req)(t))return!0;if("string"!==typeof t)return!1;var n="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==n&&(6===n.length||8===n.length)&&n.every(o)}))};t["default"]=a;var o=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},7881:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"maxLength",max:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e}))};t["default"]=a},5617:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"maxValue",max:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t["default"]=a},4967:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"minLength",min:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e}))};t["default"]=a},2271:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"minValue",min:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t["default"]=a},4427:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"not"},(function(t,n){return!(0,r.req)(t)||!e.call(this,t,n)}))};t["default"]=a},5374:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=(0,r.regex)("numeric",/^[0-9]*$/);t["default"]=a},4960:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"or"},(function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.length>0&&t.reduce((function(t,n){return t||n.apply(e,r)}),!1)}))};t["default"]=a},3009:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=(0,r.withParams)({type:"required"},(function(e){return"string"===typeof e?(0,r.req)(e.trim()):(0,r.req)(e)}));t["default"]=a},6618:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},(function(t,n){return!(0,r.ref)(e,this,n)||(0,r.req)(t)}))};t["default"]=a},9936:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},(function(t,n){return!!(0,r.ref)(e,this,n)||(0,r.req)(t)}))};t["default"]=a},6909:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=function(e){return(0,r.withParams)({type:"sameAs",eq:e},(function(t,n){return t===(0,r.ref)(e,this,n)}))};t["default"]=a},445:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(2620),a=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,o=(0,r.regex)("url",a);t["default"]=o},926:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r="web"==={NODE_ENV:"production",VUE_APP_API_BASE_URL:"https://159.223.210.47/api/v1/",BASE_URL:"/"}.BUILD?n(4550).R:n(6056).withParams,a=r;t["default"]=a},4550:function(e,t,n){function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.R=void 0;var a="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},o=function(e,t){return"object"===r(e)&&void 0!==t?t:e((function(){}))},i=a.vuelidate?a.vuelidate.withParams:o;t.R=i}}]);
//# sourceMappingURL=277.a9f05943.js.map